(this["webpackJsonpb-spline-demos"]=this["webpackJsonpb-spline-demos"]||[]).push([[0],{129:function(t,e,n){"use strict";n.r(e);var r=n(0),a=n.n(r),i=n(65),o=n.n(i),c=(n(75),n(39)),s=n(10),u=n(20),l=n(66),h=n(67),f=n(28),d=n.n(f),v=function(t,e){return 0===e?0:t/e},m=function(){function t(e){Object(l.a)(this,t),this.order=3,this.maxT=void 0,this.tArray=void 0,this.factorArray=void 0,this.cPoints=void 0,this.tRange=void 0,this.cPoints=e,this.maxT=e.length+this.order,this.tArray=this.generateTArray(),this.factorArray=[],this.tRange=[this.order-1,e.length]}return Object(h.a)(t,[{key:"generateTArray",value:function(){for(var t=[],e=0;e<=this.maxT;e++)t.push(e);return t}},{key:"getPoints",value:function(){for(var t=this,e=Object(u.a)(this.tRange,2),n=e[0],r=e[1],a=this.cPoints.map((function(e,n){return t.getFactorGenerator(n)})),i=[],o=function(e){var n=a.map((function(t){return t(e)}));i.push(t.cPoints.reduce((function(t,e,r){var a=Object(u.a)(t,2),i=a[0],o=a[1],c=Object(u.a)(e,2),s=c[0],l=c[1];return[i+s*n[r],o+l*n[r]]}),[0,0]))},c=n;c<=r;c+=.1)o(c);return i}},{key:"getFactorGenerator",value:function(t){var e=this.tArray[t],n=this.tArray[t+1],r=this.tArray[t+2],a=this.tArray[t+3];return function(t){return t<e||t>=a?0:t<n?v(t-e,r-e)*v(t-e,n-e):t<r?v(t-e,r-e)*v(r-t,r-n)+v(a-t,a-n)*v(t-n,r-n):t<a?v(a-t,a-n)*v(a-t,a-r):0}}}]),t}(),p=[[50,10],[100,30],[200,60],[300,300],[150,200],[100,150],[50,100]];var g=function(){var t=Object(r.useRef)(null),e=Object(r.useState)(null),n=Object(u.a)(e,2),i=n[0],o=n[1];return Object(r.useEffect)((function(){t.current&&null==i&&o(d.a.init(t.current,{renderer:"canvas"}))}),[t.current]),Object(r.useEffect)((function(){if(i){var t=new m(p).getPoints(),e=new d.a.Polyline({shape:{points:t}});i.add(e),p.forEach((function(t,n){var r=new d.a.Circle({shape:{cx:t[0],cy:t[1],r:3},draggable:!0});r.on("drag",(function(t){p[n]=[t.offsetX,t.offsetY];var r=new m(p).getPoints();e.shape.points=r,e.dirty()})),i.add(r)}))}}),[i]),a.a.createElement("div",{style:{padding:"32px 0"}},a.a.createElement("div",{style:{textAlign:"center",marginBottom:"32px"}},"\u5747\u5300\u4e09\u9636B\u6837\u6761\u66f2\u7ebf"),a.a.createElement("div",{ref:t,style:{width:"100%",height:"400px"}}))},y=function(){return a.a.createElement(c.a,null,a.a.createElement("div",null,a.a.createElement(c.b,{to:"/uniform-b-spline-of-order-3"},"\u5747\u53003\u9636B\u6837\u6761\u66f2\u7ebf")),a.a.createElement(s.c,null,a.a.createElement(s.a,{path:"/uniform-b-spline-of-order-3",component:g})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(a.a.createElement(y,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()}))},70:function(t,e,n){t.exports=n(129)},75:function(t,e,n){}},[[70,1,2]]]);
//# sourceMappingURL=main.32b0dfc8.chunk.js.map